(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{74802:function(e,l,s){Promise.resolve().then(s.bind(s,47972)),Promise.resolve().then(s.bind(s,88904)),Promise.resolve().then(s.bind(s,95401))},88904:function(e,l,s){"use strict";s.d(l,{SearchResults:function(){return p}});var a=s(57437),i=s(80330),n=s(59417),t=s(24357),r=s(47279),c=s(38595),o=s(2265),d=s(80311),u=s(42874),v=s(92064),h=s(44091),f=s(76192);let x=o.forwardRef(function({title:e,titleId:l,...s},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},s),e?o.createElement("title",{id:l},e):null,o.createElement("path",{fillRule:"evenodd",d:"M4 1.75a.75.75 0 0 1 1.5 0V3h5V1.75a.75.75 0 0 1 1.5 0V3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2V1.75ZM4.5 6a1 1 0 0 0-1 1v4.5a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-7Z",clipRule:"evenodd"}))});var m=s(90372);let b={0:"selfie",1:"location",2:"date",3:"user"},j=[{value:"selfie",label:(0,a.jsx)(h.Z,{className:"size-10"})},{value:"location",label:(0,a.jsx)(f.Z,{className:"size-10"})},{value:"date",label:(0,a.jsx)(x,{className:"size-10"})},{value:"user",label:(0,a.jsx)(m.Z,{className:"size-10"})}],p=e=>{let{searchQuery:l,searchType:s}=e,h=(0,o.useRef)(!0),[f,x]=(0,o.useState)({}),[m,p]=(0,o.useState)(s?Math.max(Object.values(b).findIndex(e=>s===e),0):0),w=(0,o.useCallback)((e,s)=>(0,v.B)(s,l,!1,e,10).then(e=>(x(l=>{var a;return{...l,[s]:null!==(a=l[s])&&void 0!==a?a:e}}),e)),[l]),N=(0,o.useMemo)(()=>({selfie:e=>w(e,"selfie"),location:e=>w(e,"location"),date:e=>w(e,"date"),user:e=>w(e,"user")}),[w]),k=(0,o.useCallback)((e,l)=>{p(Number(l))},[]);return(0,o.useEffect)(()=>{if(h.current){let e=null!=s?s:"selfie";w(0,e).then(()=>{Object.values(b).filter(l=>l!==e).forEach(e=>w(0,e))}),h.current=!1}},[w,s]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.Z,{"aria-label":"Search results",value:m,onChange:k,sx:{width:"100%",overflowX:"visible",backgroundColor:"transparent"},children:[(0,a.jsx)(n.Z,{sticky:"top",tabFlex:1,disableUnderline:!0,children:j.map((e,l)=>(0,a.jsxs)(t.Z,{value:l,className:"flex-col md:flex-row flex",children:[(0,a.jsx)("div",{className:"shrink-0",children:e.label}),f[b[l]]?(0,a.jsx)("small",{children:(0,u.qH)(f[b[l]])}):(0,a.jsx)(r.Z,{animation:"wave",variant:"text",sx:{width:60}})]},e.value))}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),j.map((e,s)=>{var i,n,t,r,o;let u=b[s];return(0,a.jsx)(c.Z,{value:s,children:void 0!==f[u]?(null===(i=f[u])||void 0===i?void 0:i.selfies.length)===0?(0,a.jsx)("div",{className:"grid place-items-center place-content-center h-[80vh]",children:(0,a.jsxs)("span",{className:"inline-block",children:["(no ",u," results for ",(0,a.jsx)("kbd",{children:l}),")"]})}):(0,a.jsx)(d.Dj,{skip:null!==(o=null===(n=f[u])||void 0===n?void 0:n.selfies.length)&&void 0!==o?o:0,fetcher:(null===(t=f[u])||void 0===t?void 0:t.more)?N[u]:void 0,children:null===(r=f[u])||void 0===r?void 0:r.selfies.map(e=>e&&(0,a.jsx)(d.F0,{selfie:e},e.active_hash))}):(0,a.jsxs)("div",{className:"flex flex-col space-y-selfie",children:[(0,a.jsx)(d.WV,{}),(0,a.jsx)(d.WV,{})]})},s)})]})})}}},function(e){e.O(0,[529,706,415,119,972,46,247,428,191,794,971,23,744],function(){return e(e.s=74802)}),_N_E=e.O()}]);