(()=>{var e={};e.id=678,e.ids=[678],e.modules={62849:e=>{function s(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}s.keys=()=>[],s.resolve=s,s.id=62849,e.exports=s},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},16816:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>b,pages:()=>l,routeModule:()=>f,tree:()=>c}),t(76408),t(21146),t(35866),t(79109),t(11930);var r=t(23191),n=t(88716),i=t(37922),d=t.n(i),a=t(95231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);t.d(s,o);let c=["",{children:["(selfies)",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,76408)),"/Users/pulze/Documents/Projects/travel/src/app/(selfies)/users/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,21146)),"/Users/pulze/Documents/Projects/travel/src/app/(selfies)/users/loading.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,79109)),"/Users/pulze/Documents/Projects/travel/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"/Users/pulze/Documents/Projects/travel/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/pulze/Documents/Projects/travel/src/app/(selfies)/users/page.tsx"],b="/(selfies)/users/page",u={require:t,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(selfies)/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},25668:(e,s,t)=>{let r={b44f4f0fada631c4087fd3519744d947a7b01c20:()=>Promise.resolve().then(t.bind(t,76408)).then(e=>e.$$ACTION_0),"3dfe720749ff5d633f45384a02b329419181dba5":()=>Promise.resolve().then(t.bind(t,68020)).then(e=>e.dbGetUsersWithLastSelfie),"675abdf2866817a8613d533b066c99b1337a6941":()=>Promise.resolve().then(t.bind(t,68020)).then(e=>e.$$ACTION_0),"1580697c0a61eac36e49ddce995edcbead0fe99f":()=>Promise.resolve().then(t.bind(t,15e3)).then(e=>e.getDbConnection),"3b52764d1dd1c23c7073109c963f5a2ac3be4f22":()=>Promise.resolve().then(t.bind(t,15e3)).then(e=>e.$$ACTION_0),"9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7":()=>Promise.resolve().then(t.bind(t,15e3)).then(e=>e.namedPlaceholders),"6cb4a3b721e382ba6bcd426b329b2bf4d87e5865":()=>Promise.resolve().then(t.bind(t,73919)).then(e=>e.$$ACTION_0)};async function n(e,...s){return(await r[e]()).apply(null,s)}e.exports={b44f4f0fada631c4087fd3519744d947a7b01c20:n.bind(null,"b44f4f0fada631c4087fd3519744d947a7b01c20"),"3dfe720749ff5d633f45384a02b329419181dba5":n.bind(null,"3dfe720749ff5d633f45384a02b329419181dba5"),"675abdf2866817a8613d533b066c99b1337a6941":n.bind(null,"675abdf2866817a8613d533b066c99b1337a6941"),"1580697c0a61eac36e49ddce995edcbead0fe99f":n.bind(null,"1580697c0a61eac36e49ddce995edcbead0fe99f"),"3b52764d1dd1c23c7073109c963f5a2ac3be4f22":n.bind(null,"3b52764d1dd1c23c7073109c963f5a2ac3be4f22"),"9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7":n.bind(null,"9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7"),"6cb4a3b721e382ba6bcd426b329b2bf4d87e5865":n.bind(null,"6cb4a3b721e382ba6bcd426b329b2bf4d87e5865")}},30324:(e,s,t)=>{let r={"4f35886507c36e4ad4dd50b8e7bea9f60ebddec5":()=>Promise.resolve().then(t.bind(t,91823)).then(e=>e.$$ACTION_0),b1a41dc2655d851f110a3d69243a3ac2141b1080:()=>Promise.resolve().then(t.bind(t,91823)).then(e=>e.fetchComments),"5692b1ddfa574de66f333084358053296041dcd1":()=>Promise.resolve().then(t.bind(t,1064)).then(e=>e.$$ACTION_0),a07630e77e02637849043dfe92df4063862c46c7:()=>Promise.resolve().then(t.bind(t,1064)).then(e=>e.searchAll),d9e397464a7b483fdb64e6b1b2077a5960e840e0:()=>Promise.resolve().then(t.bind(t,1064)).then(e=>e.getSearchResults),"06c3c0885ee10b0d6b95556dbef181c4f6360a14":()=>Promise.resolve().then(t.bind(t,31915)).then(e=>e.publishSelfie),b07d83010229c3b0050b55aca3fc624cc0b9f40b:()=>Promise.resolve().then(t.bind(t,31915)).then(e=>e.$$ACTION_0)};async function n(e,...s){return(await r[e]()).apply(null,s)}e.exports={"4f35886507c36e4ad4dd50b8e7bea9f60ebddec5":n.bind(null,"4f35886507c36e4ad4dd50b8e7bea9f60ebddec5"),b1a41dc2655d851f110a3d69243a3ac2141b1080:n.bind(null,"b1a41dc2655d851f110a3d69243a3ac2141b1080"),"5692b1ddfa574de66f333084358053296041dcd1":n.bind(null,"5692b1ddfa574de66f333084358053296041dcd1"),a07630e77e02637849043dfe92df4063862c46c7:n.bind(null,"a07630e77e02637849043dfe92df4063862c46c7"),d9e397464a7b483fdb64e6b1b2077a5960e840e0:n.bind(null,"d9e397464a7b483fdb64e6b1b2077a5960e840e0"),"06c3c0885ee10b0d6b95556dbef181c4f6360a14":n.bind(null,"06c3c0885ee10b0d6b95556dbef181c4f6360a14"),b07d83010229c3b0050b55aca3fc624cc0b9f40b:n.bind(null,"b07d83010229c3b0050b55aca3fc624cc0b9f40b")}},50610:(e,s,t)=>{Promise.resolve().then(t.bind(t,9131)),Promise.resolve().then(t.t.bind(t,92481,23)),Promise.resolve().then(t.t.bind(t,79404,23)),Promise.resolve().then(t.bind(t,85999)),Promise.resolve().then(t.bind(t,1121)),Promise.resolve().then(t.bind(t,35209)),Promise.resolve().then(t.bind(t,28003)),Promise.resolve().then(t.bind(t,13294)),Promise.resolve().then(t.bind(t,10006)),Promise.resolve().then(t.bind(t,3952)),Promise.resolve().then(t.bind(t,38911)),Promise.resolve().then(t.bind(t,47112)),Promise.resolve().then(t.bind(t,68813)),Promise.resolve().then(t.bind(t,26733)),Promise.resolve().then(t.bind(t,88313)),Promise.resolve().then(t.bind(t,59805)),Promise.resolve().then(t.bind(t,66009)),Promise.resolve().then(t.bind(t,79951)),Promise.resolve().then(t.bind(t,71131))},21146:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(19510),n=t(29098);function i(){return r.jsx(n.h2,{})}},76408:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>b,default:()=>u,metadata:()=>c});var r=t(19510),n=t(24330);t(60166);var i=t(68678),d=t(68020),a=t(60214),o=t(73919);let c={title:"users - geonaut",description:"the latest and greatest from our users"};var l=(0,n.j)("b44f4f0fada631c4087fd3519744d947a7b01c20",b);async function b(e){let s=await (0,o.getUserFromCookie)(),t=await (0,d.dbGetUsersWithLastSelfie)({selfId:s?.id??0,skip:e,limit:10});return(0,a.Pr)(t,10,"users")}async function u(){let e=await l(0);return r.jsx(i.Db,{initialSelfies:e.selfies,header:e.title,fetcher:e.more?l:void 0})}},68020:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>a,dbGetUsersWithLastSelfie:()=>d});var r=t(24330);t(60166);var n=t(15e3),i=t(40618);let d=(0,r.j)("675abdf2866817a8613d533b066c99b1337a6941",a);async function a({selfId:e=0,skip:s=0,limit:t=10}){let[r,i]=await (0,n.getDbConnection)(),[d,a]=await r.query(`
        SELECT
            s.*,
            IF(l.user_id = :selfId, 1, 0) AS love,
            IF(:selfId = 0, 0,
            IF(:selfId = s.user_id, 'yes', 'no')) as is_owner,
            'user' AS 'type',
            COALESCE(lc.loves, 0) as loves,
            REPLACE(u.short_desc, '&#10;', '') AS profile
        FROM selfies_with_user s
        INNER JOIN selfies_added_on sao ON (s.added_on = sao.added_on AND s.user_id = sao.user_id)
        LEFT JOIN love l ON (s.id = l.selfie_id AND :selfId = l.user_id)
        LEFT JOIN love_count lc ON lc.selfie_id = s.id
        LEFT JOIN users u ON u.id = s.user_id
        GROUP BY s.id, s.user_id, s.active_hash, s.hash, s.title, s.short_desc, s.selfie_date,
                  s.selfie_place, s.lat, s.lng, s.selfietype_id, s.added_on, s.edited_on,
                  s.lc_color, s.me_color, s.me_brightness, s.lc_brightness, s.username, s.name, s.possessive,
                  is_owner, 'type', profile, love, loves
        ORDER BY s.added_on DESC
        LIMIT :start, :limit
      `,{selfId:e,start:s,limit:t});return i(),d}(0,i.h)([d]),(0,r.j)("3dfe720749ff5d633f45384a02b329419181dba5",d)},15e3:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>b,getDbConnection:()=>l,namedPlaceholders:()=>u});var r=t(24330);t(60166);var n=t(69518),i=t(30001),d=t.n(i),a=t(40618);let o=global;o.dbPool=o.dbPool||n.createPool({host:process.env.DB_HOST??"",user:process.env.DB_USER??"",database:process.env.DB_NAME??"",password:process.env.DB_PASS??"",...process.env.DB_PORT?{port:+process.env.DB_PORT}:{},waitForConnections:!0,connectionLimit:10,maxIdle:10,idleTimeout:6e4,queueLimit:0,enableKeepAlive:!0,keepAliveInitialDelay:0,namedPlaceholders:!0});let c=o.dbPool,l=(0,r.j)("3b52764d1dd1c23c7073109c963f5a2ac3be4f22",b);async function b(){let e=await c.getConnection();return[e,()=>{c.releaseConnection(e),e.release()}]}let u=d()();(0,a.h)([l,u]),(0,r.j)("1580697c0a61eac36e49ddce995edcbead0fe99f",l),(0,r.j)("9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7",u)},73919:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>a,getUserFromCookie:()=>d});var r=t(24330);t(60166);var n=t(71615),i=t(76283);let d=(0,r.j)("6cb4a3b721e382ba6bcd426b329b2bf4d87e5865",a);async function a(){let e=n.cookies().get("token")?.value??null;return(0,i.J)(e)}},73881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(66621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,615,842,621,369,617],()=>t(16816));module.exports=r})();