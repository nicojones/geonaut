(()=>{var e={};e.id=34,e.ids=[34],e.modules={62849:e=>{function s(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}s.keys=()=>[],s.resolve=s,s.id=62849,e.exports=s},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},23970:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>f,originalPathname:()=>b,pages:()=>l,routeModule:()=>u,tree:()=>c}),t(14405),t(51493),t(35866),t(79109),t(11930);var r=t(23191),n=t(88716),i=t(37922),a=t.n(i),o=t(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let c=["",{children:["(selfies)",{children:["loves",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,14405)),"/Users/pulze/Documents/Projects/travel/src/app/(selfies)/loves/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,51493)),"/Users/pulze/Documents/Projects/travel/src/app/(selfies)/loves/loading.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,79109)),"/Users/pulze/Documents/Projects/travel/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"/Users/pulze/Documents/Projects/travel/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/pulze/Documents/Projects/travel/src/app/(selfies)/loves/page.tsx"],b="/(selfies)/loves/page",f={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(selfies)/loves/page",pathname:"/loves",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19763:(e,s,t)=>{let r={c1fcaf82f25cac78c9ca380d5532b19863bedc34:()=>Promise.resolve().then(t.bind(t,14405)).then(e=>e.$$ACTION_0),"593e8b60f1767a2a2d298bd785c74186a7a32d31":()=>Promise.resolve().then(t.bind(t,58611)).then(e=>e.dbGetLovedSelfies),"611fe8ec11423f347a395ff089671f0e42d34cbf":()=>Promise.resolve().then(t.bind(t,58611)).then(e=>e.$$ACTION_0),"1580697c0a61eac36e49ddce995edcbead0fe99f":()=>Promise.resolve().then(t.bind(t,15e3)).then(e=>e.getDbConnection),"3b52764d1dd1c23c7073109c963f5a2ac3be4f22":()=>Promise.resolve().then(t.bind(t,15e3)).then(e=>e.$$ACTION_0),"9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7":()=>Promise.resolve().then(t.bind(t,15e3)).then(e=>e.namedPlaceholders),"6cb4a3b721e382ba6bcd426b329b2bf4d87e5865":()=>Promise.resolve().then(t.bind(t,73919)).then(e=>e.$$ACTION_0)};async function n(e,...s){return(await r[e]()).apply(null,s)}e.exports={c1fcaf82f25cac78c9ca380d5532b19863bedc34:n.bind(null,"c1fcaf82f25cac78c9ca380d5532b19863bedc34"),"593e8b60f1767a2a2d298bd785c74186a7a32d31":n.bind(null,"593e8b60f1767a2a2d298bd785c74186a7a32d31"),"611fe8ec11423f347a395ff089671f0e42d34cbf":n.bind(null,"611fe8ec11423f347a395ff089671f0e42d34cbf"),"1580697c0a61eac36e49ddce995edcbead0fe99f":n.bind(null,"1580697c0a61eac36e49ddce995edcbead0fe99f"),"3b52764d1dd1c23c7073109c963f5a2ac3be4f22":n.bind(null,"3b52764d1dd1c23c7073109c963f5a2ac3be4f22"),"9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7":n.bind(null,"9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7"),"6cb4a3b721e382ba6bcd426b329b2bf4d87e5865":n.bind(null,"6cb4a3b721e382ba6bcd426b329b2bf4d87e5865")}},30324:(e,s,t)=>{let r={"4f35886507c36e4ad4dd50b8e7bea9f60ebddec5":()=>Promise.resolve().then(t.bind(t,91823)).then(e=>e.$$ACTION_0),b1a41dc2655d851f110a3d69243a3ac2141b1080:()=>Promise.resolve().then(t.bind(t,91823)).then(e=>e.fetchComments),"5692b1ddfa574de66f333084358053296041dcd1":()=>Promise.resolve().then(t.bind(t,1064)).then(e=>e.$$ACTION_0),a07630e77e02637849043dfe92df4063862c46c7:()=>Promise.resolve().then(t.bind(t,1064)).then(e=>e.searchAll),d9e397464a7b483fdb64e6b1b2077a5960e840e0:()=>Promise.resolve().then(t.bind(t,1064)).then(e=>e.getSearchResults),"06c3c0885ee10b0d6b95556dbef181c4f6360a14":()=>Promise.resolve().then(t.bind(t,31915)).then(e=>e.publishSelfie),b07d83010229c3b0050b55aca3fc624cc0b9f40b:()=>Promise.resolve().then(t.bind(t,31915)).then(e=>e.$$ACTION_0)};async function n(e,...s){return(await r[e]()).apply(null,s)}e.exports={"4f35886507c36e4ad4dd50b8e7bea9f60ebddec5":n.bind(null,"4f35886507c36e4ad4dd50b8e7bea9f60ebddec5"),b1a41dc2655d851f110a3d69243a3ac2141b1080:n.bind(null,"b1a41dc2655d851f110a3d69243a3ac2141b1080"),"5692b1ddfa574de66f333084358053296041dcd1":n.bind(null,"5692b1ddfa574de66f333084358053296041dcd1"),a07630e77e02637849043dfe92df4063862c46c7:n.bind(null,"a07630e77e02637849043dfe92df4063862c46c7"),d9e397464a7b483fdb64e6b1b2077a5960e840e0:n.bind(null,"d9e397464a7b483fdb64e6b1b2077a5960e840e0"),"06c3c0885ee10b0d6b95556dbef181c4f6360a14":n.bind(null,"06c3c0885ee10b0d6b95556dbef181c4f6360a14"),b07d83010229c3b0050b55aca3fc624cc0b9f40b:n.bind(null,"b07d83010229c3b0050b55aca3fc624cc0b9f40b")}},50610:(e,s,t)=>{Promise.resolve().then(t.bind(t,9131)),Promise.resolve().then(t.t.bind(t,92481,23)),Promise.resolve().then(t.t.bind(t,79404,23)),Promise.resolve().then(t.bind(t,85999)),Promise.resolve().then(t.bind(t,1121)),Promise.resolve().then(t.bind(t,35209)),Promise.resolve().then(t.bind(t,28003)),Promise.resolve().then(t.bind(t,13294)),Promise.resolve().then(t.bind(t,10006)),Promise.resolve().then(t.bind(t,3952)),Promise.resolve().then(t.bind(t,38911)),Promise.resolve().then(t.bind(t,47112)),Promise.resolve().then(t.bind(t,68813)),Promise.resolve().then(t.bind(t,26733)),Promise.resolve().then(t.bind(t,88313)),Promise.resolve().then(t.bind(t,59805)),Promise.resolve().then(t.bind(t,66009)),Promise.resolve().then(t.bind(t,79951)),Promise.resolve().then(t.bind(t,71131))},51493:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(19510),n=t(29098);function i(){return r.jsx(n.h2,{})}},14405:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>b,default:()=>f,metadata:()=>c});var r=t(19510),n=t(24330);t(60166);var i=t(68678),a=t(58611),o=t(60214),d=t(73919);let c={title:"loves - geonaut",description:"posts you love"};var l=(0,n.j)("c1fcaf82f25cac78c9ca380d5532b19863bedc34",b);async function b(e){let s=await (0,d.getUserFromCookie)(),t=await (0,a.dbGetLovedSelfies)({selfId:s?.id,skip:e,limit:10});return(0,o.Pr)(t,10,"loved")}async function f(){let e=await l(0);return r.jsx(i.Db,{initialSelfies:e.selfies,header:e.title,fetcher:e.more?l:void 0})}},58611:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>o,dbGetLovedSelfies:()=>a});var r=t(24330);t(60166);var n=t(15e3),i=t(40618);let a=(0,r.j)("611fe8ec11423f347a395ff089671f0e42d34cbf",o);async function o({selfId:e=0,skip:s=0,limit:t=10}){let[r,i]=await (0,n.getDbConnection)(),[a,o]=await r.query(`
        SELECT
          s.*,
          IF(l.user_id = :selfId, 1, 0) AS love,
          'selfie' AS 'type',
          1 as loves
        FROM selfies_with_user s
        LEFT JOIN love l ON s.id = l.selfie_id
        LEFT JOIN love_count lc ON lc.selfie_id = s.id
        WHERE (l.user_id = :selfId)
        GROUP BY s.id, l.love_on, s.user_id, s.active_hash, s.hash, s.title, s.short_desc, s.selfie_date,
                  s.selfie_place, s.lat, s.lng, s.selfietype_id, s.added_on, s.edited_on,
                  s.lc_color, s.lc_brightness, s.me_color, s.me_brightness, s.username, s.name, s.possessive,
                  'type', love, loves
        ORDER BY l.love_on DESC
        LIMIT :start, :limit
      `,{selfId:e,start:s,limit:t});return i(),a}(0,i.h)([a]),(0,r.j)("593e8b60f1767a2a2d298bd785c74186a7a32d31",a)},15e3:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>b,getDbConnection:()=>l,namedPlaceholders:()=>f});var r=t(24330);t(60166);var n=t(69518),i=t(30001),a=t.n(i),o=t(40618);let d=global;d.dbPool=d.dbPool||n.createPool({host:process.env.DB_HOST??"",user:process.env.DB_USER??"",database:process.env.DB_NAME??"",password:process.env.DB_PASS??"",...process.env.DB_PORT?{port:+process.env.DB_PORT}:{},waitForConnections:!0,connectionLimit:10,maxIdle:10,idleTimeout:6e4,queueLimit:0,enableKeepAlive:!0,keepAliveInitialDelay:0,namedPlaceholders:!0});let c=d.dbPool,l=(0,r.j)("3b52764d1dd1c23c7073109c963f5a2ac3be4f22",b);async function b(){let e=await c.getConnection();return[e,()=>{c.releaseConnection(e),e.release()}]}let f=a()();(0,o.h)([l,f]),(0,r.j)("1580697c0a61eac36e49ddce995edcbead0fe99f",l),(0,r.j)("9d46e8c7b3176eb5a6e00e3c5105b5c8732ab5d7",f)},73919:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$ACTION_0:()=>o,getUserFromCookie:()=>a});var r=t(24330);t(60166);var n=t(71615),i=t(76283);let a=(0,r.j)("6cb4a3b721e382ba6bcd426b329b2bf4d87e5865",o);async function o(){let e=n.cookies().get("token")?.value??null;return(0,i.J)(e)}},73881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(66621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,615,842,621,369,617],()=>t(23970));module.exports=r})();